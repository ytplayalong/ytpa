(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{28:(e,t,r)=>{Promise.resolve().then(r.bind(r,3555))},2978:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,Rb:()=>m,iZ:()=>g});var a=r(2078),n=r(3885),i=r(9708),s=r(2115);let o={apiKey:"AIzaSyCVJ76vO0YNHlGwCtvkKfDe5rWLxFiIzgA",authDomain:"ytpa-f7aca.firebaseapp.com",projectId:"ytpa-f7aca",storageBucket:"ytpa-f7aca.firebasestorage.app",messagingSenderId:"374268704603",appId:"1:374268704603:web:646ec6a00d2b5d45968c7e",measurementId:"G-860EZ6JGNF"};class l{userLoggedIn(){let e=this.firebaseAuth.currentUser;return!!(null==e?void 0:e.emailVerified)}currentUser(){return this.firebaseAuth.currentUser}getUserName(){var e,t;return(null!=(t=null==(e=c.currentUser())?void 0:e.email)?t:"@").split("@")[0]}getAuth(){return this.firebaseAuth}async signOut(){try{await (0,n.CI)(this.firebaseAuth)}catch(e){console.error("Error signing out:",e)}}async signIn(e,t){try{if(!(await (0,n.x9)(this.firebaseAuth,e,t)).user.emailVerified)return{error:"Email not verified!"}}catch(e){return{error:"Sign-in failed, error: ".concat(e)}}return{info:"Sucessfully signed-in."}}async signUp(e,t){try{let r=(await (0,n.eJ)(this.firebaseAuth,e,t)).user;return await (0,n.gA)(r),console.log("Success: Created user ".concat(r.uid,"!")),{info:"Created user account, verify your email and log in."}}catch(e){return{error:"Sign-up failed, error: ".concat(e)}}}async addFavorite(e){let t=this.getUserDoc(),r=await (0,i.x7)(t);if(r.exists()){let a=Array.from(new Set([...r.data().allFavorites||[],e]));await (0,i.mZ)(t,{allFavorites:a})}else console.log("creating new"),await (0,i.BN)(t,{allFavorites:[e]})}async getFavorites(){let e=this.getUserDoc(),t=await (0,i.x7)(e);return t.exists()&&t.data().allFavorites||[]}async removeFromFavorites(e){let t=this.getUserDoc(),r=await (0,i.x7)(t);if(r.exists()){let a=(r.data().allFavorites||[]).filter(t=>t!=e);await (0,i.mZ)(t,{allFavorites:a})}}async storeUserDoc(e){let t=this.currentUser();if(null==t)return"Not logged-in.";try{await (0,i.BN)((0,i.H9)(this.firestoreDb,"users",t.uid),e)}catch(e){return e}}getUserDoc(){let e=this.currentUser();console.assert(null!=e);let t=e.uid;return(0,i.H9)(this.firestoreDb,"users",t)}constructor(){let e=(0,a.Wp)(o);this.firebaseAuth=(0,n.xI)(e),this.firestoreDb=(0,i.aU)(e)}}let c=new l,d=c,u=e=>{var t;return(null!=(t=e.email)?t:"user@").split("@")[0]},g=()=>{let[e,t]=(0,s.useState)(void 0);return(0,s.useEffect)(()=>{let e=c.getAuth(),r=(0,n.hg)(e,e=>{e?localStorage.setItem("username",u(e)):localStorage.removeItem("username"),t(e||null)});return()=>r()},[]),e},m=e=>{let t=null;if(e)t=u(e);else if(void 0===e){console.log("Grabbing username from localstorage");let e=localStorage.getItem("username");null!==e&&(t=e)}return t}},3555:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var a=r(5155),n=r(2619),i=r.n(n),s=r(2978),o=r(8242),l=r(4304),c=r(5334),d=r(7054);function u(){let{t:e,getLink:t}=(0,l.A)(),r=(0,s.iZ)(),n=async e=>await s.Ay.signIn(e.email,e.password),u=e("login");return r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h4",{children:[e("loggedInAs")," ",(0,s.Rb)(r)]}),(0,a.jsxs)("div",{className:"row",style:{marginBottom:"0.5em"},children:[(0,a.jsx)("div",{className:"twocols",children:e("email")}),(0,a.jsx)("div",{className:"twocols rightcol",children:r.email})]}),(0,a.jsx)("button",{...o.zA,onClick:()=>s.Ay.signOut(),children:e("logout")})]}):null===r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.cF,{title:u,initState:{},onSubmit:n}),(0,a.jsxs)("div",{className:"row",style:{marginTop:"0.5em"},children:[(0,a.jsx)("div",{className:"twocols",children:(0,a.jsxs)("p",{children:[e("noAccount")," ",(0,a.jsx)(i(),{href:t("/register"),children:e("registerHere")})]})}),(0,a.jsx)("div",{className:"twocols rightcol",children:(0,a.jsxs)("p",{children:[e("forgotPassword")," TODO"]})})]})]}):(0,a.jsx)(c.Loading,{title:u,addComp:!1})}},4304:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(9976),n=r(338),i=r(63),s=r(4274);n.Ay.use(s.r9).init({fallbackLng:a.q,lng:a.q,interpolation:{escapeValue:!1},resources:a.FG});let o=()=>{let e=(0,i.usePathname)(),{t,i18n:r}=(0,s.Bd)(),n=e.split("/")[1],o=a.Yj.includes(n)?n:a.q;return r.language!==o&&r.changeLanguage(o),{t,i18n:r,getLink:e=>"/"+n+e,currentLang:o}}},5334:(e,t,r)=>{"use strict";r.d(t,{Loading:()=>s});var a=r(5155),n=r(4304),i=r(8242);let s=e=>{let{title:t,addComp:r}=e,{t:s}=(0,n.A)(),o=void 0!=t?(0,a.jsx)("h4",{children:t}):null,l=(0,a.jsxs)(a.Fragment,{children:[o,(0,a.jsx)("p",{children:s("loading")})]});return r?(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{style:i.yG,children:l})}):l}},7054:(e,t,r)=>{"use strict";r.d(t,{cF:()=>c});var a=r(5155),n=r(2115),i=r(7454),s=r(4304),o=r(8242);let l=e=>(0,a.jsxs)("div",{className:"row",style:{marginTop:"0.5em"},children:[(0,a.jsx)("div",{className:"twocols",children:(0,a.jsx)("label",{className:"twocols",htmlFor:e.name,children:e.label})}),(0,a.jsx)("div",{className:"twocols rightcol",children:(0,a.jsx)("input",{type:e.type,style:{...o.C8,resize:"vertical"},value:e.value,onChange:e.onChange,name:e.name,id:e.name})})]});function c(e){var t;let{t:r}=(0,s.A)(),[c,d]=(0,n.useState)({email:"",password:"",...e.initState}),[u,g]=(0,n.useState)({}),m=async t=>{var r;if(console.log("Submitting:",c),t.preventDefault(),r=c.email,!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))return void g({error:"Please enter a valid email address."});let a=await e.onSubmit(c);a.error&&d(e=>({...e,password:""})),g(a)},h=e=>{let{name:t,value:r}=e.target;d(e=>({...e,[t]:r}))},f=(0,a.jsx)(a.Fragment,{});u.error&&(f=(0,a.jsx)("div",{style:{backgroundColor:i.tW,marginTop:10,...o.C8},children:(0,a.jsx)("h3",{style:{padding:10},children:u.error})}));let v=(0,a.jsx)(a.Fragment,{});return u.info&&(v=(0,a.jsx)("div",{style:{backgroundColor:i.uK,marginTop:10,...o.C8},children:(0,a.jsx)("h3",{style:{padding:10},children:u.info})})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h4",{children:e.title}),(0,a.jsxs)("form",{onSubmit:m,children:[(0,a.jsx)(l,{name:"email",type:"text",onChange:h,value:c.email,label:r("email")}),(0,a.jsx)(l,{name:"password",type:"password",onChange:h,value:c.password,label:r("password")}),null==(t=e.addForms)?void 0:t.map(e=>{let t={...e,onChange:h,value:c[e.name]};return(0,n.createElement)(l,{...t,key:e.name})}),(0,a.jsx)("div",{className:"row",style:{marginTop:"0.5em"},children:(0,a.jsx)("button",{type:"submit",...o.zA,children:r("submit")})})]}),f,v]})}},7454:(e,t,r)=>{"use strict";r.d(t,{Sq:()=>i,tW:()=>a,uK:()=>n});let a="#fcbbbb",n="#bdffce",i="#d4d4d4"},8242:(e,t,r)=>{"use strict";r.d(t,{C8:()=>l,Lv:()=>g,No:()=>o,Vq:()=>n,Xe:()=>c,eL:()=>d,yG:()=>u,zA:()=>s});var a=r(7454);let n="6px",i={border:"none",cursor:"pointer",padding:"0.5em",minWidth:"120px",fontSize:"inherit",fontFamily:"inherit",borderRadius:n,backgroundColor:a.Sq},s={style:i,className:"hoverlink"},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{style:{...i,...e},className:"hoverlink ".concat(t)}},l={boxSizing:"border-box",width:"100%",minHeight:"40px",borderRadius:n},c={justifyContent:"space-between",display:"flex"},d={display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center"},u={padding:"8px"},g={paddingLeft:"8px",paddingRight:"8px"}},9976:(e,t,r)=>{"use strict";r.d(t,{FG:()=>a,Yj:()=>n,q:()=>i});let a={en:{translation:{langName:"English",language:"Language",loading:"Loading...",helpTitle:"Help",favorites:"Favorites",favoritesAdd:"Add to favorites",favoritesRemove:"Remove from favorites",close:"Close",login:"Login",loginHere:"Log in here",loggedInAs:"Logged-in as",loginRequiredForPageAccess:"Login is required to access this page.",notLoggedIn:"Not logged-in.",logout:"Log out",noAccount:"No account?",alreadyHaveAccount:"Already have an account?",register:"Register",registerHere:"Register here",password:"Password",passwordConfirm:"Confirm password",forgotPassword:"Forgot your password?",settingsTitle:"Settings",instrumentKey:"Instrument Tuning",instrumentKeyShort:"Tuning",octave:"Octave",timeSignature:"Time Signature",sheetZoom:"Sheet scaling",fingering:"Fingering",fingerNone:"None",fingerThreeValves:"3 Valves",fingerTrombone:"Trombone",songKey:"Key",clef:"Clef",bassClef:"Bass",trebleClef:"Treble",totScores:"Number of pieces: {{num}}",filter:"Filter",txtFilterDefault:"Enter keyword(s)",allScores:"All Pieces",allScoresTxt:"There is a total of <num /> pieces of music available here: <all/>. Or choose a <random />",findAllHereTxt:"More pieces can be found here: <all/>",randomScore:"Random Piece",recentScores:"Most Recently Added",recentTxt:"The most recently added scores are listed below. Choose one by clicking on it and start playing right away.",name:"Name",artist:"Artist",search:"Search",submit:"Submit",fullName:"Full Name",email:"Email Address",message:"Message",contact:"Contact",contactTxt:"If you have any questions, need assistance, or want to provide us with helpful feedback, please don't hesitate to use the following contact form.",intro:"Interactive sheet music synced with YouTube videos",viewSheetsOn:"View sheet music on",sheetMoveMode:"Synchronization mode",horizontalMode:"Horizontal",verticalMode:"Vertical"}},es:{translation:{langName:"Espa\xf1ol",language:"Lenguaje",loading:"Cargando...",helpTitle:"Ayuda",settingsTitle:"Ajustes",favorites:"Favoritos",favoritesAdd:"A\xf1adir a mis favoritos",favoritesRemove:"Eliminar de favoritos",close:"Cierrar",login:"Iniciar",loginHere:"Iniciar aqui",loggedInAs:"Conectado como",loginRequiredForPageAccess:"Es necesario iniciar sesi\xf3n para acceder a esta p\xe1gina.",notLoggedIn:"No conectado.",logout:"Cerrar sesi\xf3n",noAccount:"\xbfNo tiene cuenta?",alreadyHaveAccount:"\xbfYa tiene una cuenta?",register:"Registrar",registerHere:"Registrar aqui",password:"Contrase\xf1a",passwordConfirm:"Confirmar contrase\xf1a",forgotPassword:"\xbfOlvid\xf3 su contrase\xf1a?",instrumentKey:"Afinaci\xf3n de instrumento",instrumentKeyShort:"Afinaci\xf3n",octave:"Octava",timeSignature:"Tipo de comp\xe1s",sheetZoom:"Escalado de partituras",fingering:"Digitaciones",fingerNone:"Ninguno",fingerThreeValves:"3 V\xe1lvulas",fingerTrombone:"Tromb\xf3n",songKey:"Tonalidad",clef:"Clave",bassClef:"Fa",trebleClef:"Sol",totScores:"N\xfamero de canciones: {{num}}",filter:"Filtro",txtFilterDefault:"Insertar palabras clave",allScores:"Toda la m\xfasica",allScoresTxt:"Hay un total de <num /> piezas musicales disponibles aqu\xed: <all/>. O elige una <random />",findAllHereTxt:"Encontrar\xe1 m\xe1s piezas aqu\xed: <all/>",randomScore:"Pieza al azar",recentScores:"Piezas recientes",recentTxt:"Las piezas m\xe1s recientes se muestran a continuaci\xf3n.",name:"Nombre",artist:"Artista",search:"B\xfasqueda",submit:"Enviar",fullName:"Nombre",email:"Direcci\xf3n de correo electr\xf3nico",message:"Mensaje",contact:"Contacto",contactTxt:"Si tiene alguna pregunta, necesita ayuda o desea brindarnos comentarios \xfatiles, no dude en utilizar el siguiente formulario de contacto.",intro:"Partituras interactivas sincronizadas con videos de YouTube",viewSheetsOn:"Ver partitura en",sheetMoveMode:"Modo de sincronizaci\xf3n",horizontalMode:"Horizontal",verticalMode:"Vertical"}},de:{translation:{langName:"Deutsch",language:"Sprache",loading:"L\xe4dt...",helpTitle:"Hilfe",favorites:"Favoriten",favoritesAdd:"Zu Favoriten hinzuf\xfcgen",favoritesRemove:"Von Favoriten entfernen",close:"Schliessen",login:"Anmelden",loginHere:"Hier anmelden",loggedInAs:"Eingeloggt als",loginRequiredForPageAccess:"F\xfcr den Zugriff auf diese Seite ist ein Login erforderlich.",notLoggedIn:"Nicht eingeloggt.",logout:"Abmelden",noAccount:"Kein Benutzerkonto?",alreadyHaveAccount:"Haben Sie bereits ein Konto?",register:"Registrieren",registerHere:"Hier registrieren",password:"Passwort",passwordConfirm:"Best\xe4tige Passwort",forgotPassword:"Passwort vergessen?",settingsTitle:"Einstellungen",instrumentKey:"Instrumentenstimmung",instrumentKeyShort:"Stimmung",octave:"Oktave",timeSignature:"Taktart",sheetZoom:"Notenskalierung",fingering:"Griffe",fingerNone:"Keine",fingerThreeValves:"3 Ventile",fingerTrombone:"Posaune",songKey:"Tonart",clef:"Schl\xfcssel",bassClef:"Bass",trebleClef:"Violin",totScores:"Anzahl Lieder: {{num}}",filter:"Filter",txtFilterDefault:"Liedname oder K\xfcnstler",allScores:"Alle Lieder",allScoresTxt:"Es stehen total <num /> Lieder zur Verf\xfcgung hier: <all/>. Oder w\xe4hle ein <random />",findAllHereTxt:"Mehr St\xfccke gibt es hier: <all/>",randomScore:"Zuf\xe4lliges St\xfcck",recentScores:"K\xfcrzlich hinzugef\xfcgte Lieder",recentTxt:"Die neusten verf\xfcgbaren St\xfccke sind unten aufgef\xfchrt.",name:"Name",artist:"K\xfcnstler",search:"Suche",submit:"Absenden",fullName:"Vor- und Nachname",email:"Email Addresse",message:"Nachricht",contact:"Kontakt",contactTxt:"Wenn Sie Fragen haben, Hilfe ben\xf6tigen oder hilfreiches Feedback geben m\xf6chten, nutzen Sie bitte folgendes Kontaktformular.",intro:"Interaktive Musiknoten, synchronisiert mit YouTube-Videos",viewSheetsOn:"Schauen Sie sich die Noten an auf",sheetMoveMode:"Synchronisierungsmodus",horizontalMode:"Horizontal",verticalMode:"Vertikal"}}},n=Object.keys(a),i="en"}},e=>{e.O(0,[992,811,366,980,441,255,358],()=>e(e.s=28)),_N_E=e.O()}]);