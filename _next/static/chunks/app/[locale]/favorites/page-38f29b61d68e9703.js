(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{1024:(e,r,s)=>{"use strict";s.d(r,{Favorites:()=>x});var t=s(5155),i=s(2115),o=s(8568),n=s(6587),a=s(5685),l=s(9683),d=s(2421),c=s(6874),v=s.n(c);let u=()=>{let{t:e,getLink:r}=(0,o.A)(),s=(0,n.iZ)();return{component:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:[e("loginRequiredForPageAccess")," ",(0,t.jsx)(v(),{href:r("/login"),children:e("loginHere")})]}),(0,t.jsxs)("p",{children:[e("alreadyHaveAccount")," ",(0,t.jsx)(v(),{href:r("/register"),children:e("registerHere")})]})]}),user:s}};var f=s(9442),g=s(2222);let h={loadingStatus:"loading",favorites:[]},j=(e,r)=>(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{style:a.yG,children:[(0,t.jsx)("h4",{children:r("favorites")}),e]})}),x=()=>{let{t:e}=(0,o.A)(),r=u(),[s,a]=(0,i.useState)(h),l=async()=>{a({loadingStatus:"succeeded",favorites:await n.Ay.getFavorites()}),console.log("Loaded favorites")},c=e("favorites");if((0,i.useEffect)(()=>{r.user&&l()},[s.loadingStatus,r.user]),null===r.user)return console.log("Not logged-in"),j(r.component,e);if("loading"===s.loadingStatus||void 0===r.user)return(0,t.jsx)(d.Loading,{title:c,addComp:!0});if(0==s.favorites.length)return j("No favorites added yet",e);let v=async e=>{await n.Ay.removeFromFavorites(e),a({favorites:s.favorites.filter(r=>r!=e),loadingStatus:"succeeded"})};return(0,t.jsx)(m,{favorites:s,removeFromFavorites:v})},m=e=>{let{favorites:r,removeFromFavorites:s}=e,{t:i}=(0,o.A)(),n=new Set(r.favorites),a=l.wA.filter(e=>n.has(e.videoId));a=a.reverse();let{scores:d,sortInfo:c}=(0,f.$)(a),v=[{name:i("favoritesRemove"),onClick:s}];return j((0,t.jsx)(g.f,{scores:d,sortInfo:c,options:v}),i)}},2421:(e,r,s)=>{"use strict";s.d(r,{Loading:()=>n});var t=s(5155),i=s(8568),o=s(5685);let n=e=>{let{title:r,addComp:s}=e,{t:n}=(0,i.A)(),a=null!=r?r:(0,t.jsx)("h4",{children:r}),l=(0,t.jsxs)(t.Fragment,{children:[a,(0,t.jsx)("p",{children:n("loading")})]});return s?(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{style:o.yG,children:l})}):l}},5536:(e,r,s)=>{Promise.resolve().then(s.bind(s,1024))}},e=>{var r=r=>e(e.s=r);e.O(0,[992,765,479,692,874,16,628,691,441,684,358],()=>r(5536)),_N_E=e.O()}]);