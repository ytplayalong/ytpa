(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{5295:(e,s,r)=>{"use strict";r.d(s,{Favorites:()=>j});var t=r(5155),i=r(2115),o=r(4304),n=r(2978),a=r(8242),l=r(883),d=r(5334),c=r(2619),v=r.n(c),u=r(3795),f=r(8886);let g={loadingStatus:"loading",favorites:[]},h=(e,s)=>(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{style:a.yG,children:[(0,t.jsx)("h4",{children:s("favorites")}),e]})}),j=()=>{let{t:e}=(0,o.A)(),s=(()=>{let{t:e,getLink:s}=(0,o.A)(),r=(0,n.iZ)();return{component:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:[e("loginRequiredForPageAccess")," ",(0,t.jsx)(v(),{href:s("/login"),children:e("loginHere")})]}),(0,t.jsxs)("p",{children:[e("alreadyHaveAccount")," ",(0,t.jsx)(v(),{href:s("/register"),children:e("registerHere")})]})]}),user:r}})(),[r,a]=(0,i.useState)(g),l=async()=>{a({loadingStatus:"succeeded",favorites:await n.Ay.getFavorites()}),console.log("Loaded favorites")},c=e("favorites");if((0,i.useEffect)(()=>{s.user&&l()},[r.loadingStatus,s.user]),null===s.user)return console.log("Not logged-in"),h(s.component,e);if("loading"===r.loadingStatus||void 0===s.user)return(0,t.jsx)(d.Loading,{title:c,addComp:!0});if(0==r.favorites.length)return h("No favorites added yet",e);let u=async e=>{await n.Ay.removeFromFavorites(e),a({favorites:r.favorites.filter(s=>s!=e),loadingStatus:"succeeded"})};return(0,t.jsx)(x,{favorites:r,removeFromFavorites:u})},x=e=>{let{favorites:s,removeFromFavorites:r}=e,{t:i}=(0,o.A)(),n=new Set(s.favorites),a=l.wA.filter(e=>n.has(e.videoId));a=a.reverse();let{scores:d,sortInfo:c}=(0,u.$)(a),v=[{name:i("favoritesRemove"),onClick:r}];return h((0,t.jsx)(f.f,{scores:d,sortInfo:c,options:v}),i)}},5334:(e,s,r)=>{"use strict";r.d(s,{Loading:()=>n});var t=r(5155),i=r(4304),o=r(8242);let n=e=>{let{title:s,addComp:r}=e,{t:n}=(0,i.A)(),a=null!=s?s:(0,t.jsx)("h4",{children:s}),l=(0,t.jsxs)(t.Fragment,{children:[a,(0,t.jsx)("p",{children:n("loading")})]});return r?(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{style:o.yG,children:l})}):l}},5536:(e,s,r)=>{Promise.resolve().then(r.bind(r,5295))}},e=>{e.O(0,[992,811,479,366,980,770,314,441,255,358],()=>e(e.s=5536)),_N_E=e.O()}]);